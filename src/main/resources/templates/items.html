<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>商品一覧</title>
	<link rel="stylesheet" type="text/css" href="/css/styleItems.css">
</head>

<body>
	<header>
		<div class="theme">Petit Cadeau</div>
		<div class="account">
			<span th:text="${@account.name}+' さんがログイン中'"></span>
			<br>
			<a href="/login">ログアウト</a>
		</div>
	</header>

	<a href="/events" class="btn bgright">
		<span>
			< イベント一覧へ</span></a>

	<div class="item-block">
		<div class="block-left">
			<h1>商品一覧</h1>
		</div>

		<div class="block-right">
			<div class="right-top">
				<a class="allitems" th:href="|/items/${@event.id}|">全商品を表示</a>
				<form th:action="|/items/${@event.id}|" method="get" class="search_container">
					<input type="hidden" name="categoryId" th:value="${categoryId}">
					<input type="text" name="maxPrice" th:value="${maxPrice}" placeholder="価格">
					円以下
					<input type="submit" value="検索">
				</form>
			</div>
			<table class="item-body">
				<tr>
					<th>カテゴリID</th>
					<th>商品名</th>
					<th>値段(円)</th>
					<th></th>
				</tr>
				<tr th:each="item : ${items}">
					<td th:text="${item.categoryId}"></td>
					<td th:text="${item.name}"></a></t>
					<td th:with="price=${item.price}" th:text="${#numbers.formatInteger(price, 3, 'COMMA')}"></td>
					<td>
						<form action="/cart/add" method="post">
							<input type="hidden" name="itemId" th:value="${item.id}">
							<button class="button">カートに追加</button>
						</form>
					</td>
				</tr>
			</table>
		</div>
	</div>


</body>

</html>